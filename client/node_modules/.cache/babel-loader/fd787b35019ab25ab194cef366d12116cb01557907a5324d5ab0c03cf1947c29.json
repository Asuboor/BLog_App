{"ast":null,"code":"import{Link}from\"react-router-dom\";import{useContext,useEffect,useState}from\"react\";import{UserContext}from\"./UserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Header(){var _useContext=useContext(UserContext),setUserInfo=_useContext.setUserInfo,userInfo=_useContext.userInfo;useEffect(function(){fetch('https://blogs-app-ulti.onrender.com/profile',{credentials:'include'}).then(function(response){response.json().then(function(userInfo){setUserInfo(userInfo);});});},[]);function logout(){fetch('https://blogs-app-ulti.onrender.com/logout',{credentials:'include',method:'POST'});setUserInfo(null);}var username=userInfo===null||userInfo===void 0?void 0:userInfo.username;return/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"logo\",children:\"The Blogs\"}),/*#__PURE__*/_jsxs(\"nav\",{children:[username&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/create\",children:\"New Blog\"}),/*#__PURE__*/_jsxs(\"a\",{onClick:logout,children:[\"Logout (\",username,\")\"]})]}),!username&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})]})]})]});}","map":{"version":3,"names":["Link","useContext","useEffect","useState","UserContext","Header","setUserInfo","userInfo","fetch","credentials","then","response","json","logout","method","username"],"sources":["C:/Users/Abrar khan/Desktop/The Blogs/client/src/Header.js"],"sourcesContent":["import {Link} from \"react-router-dom\";\nimport {useContext, useEffect, useState} from \"react\";\nimport {UserContext} from \"./UserContext\";\n\nexport default function Header() {\n  const {setUserInfo,userInfo} = useContext(UserContext);\n  useEffect(() => {\n    fetch('https://blogs-app-ulti.onrender.com/profile', {\n      credentials: 'include',\n    }).then(response => {\n      response.json().then(userInfo => {\n        setUserInfo(userInfo);\n      });\n    });\n  }, []);\n\n  function logout() {\n    fetch('https://blogs-app-ulti.onrender.com/logout', {\n      credentials: 'include',\n      method: 'POST',\n    });\n    setUserInfo(null);\n  }\n\n  const username = userInfo?.username;\n\n  return (\n    <header>\n      <Link to=\"/\" className=\"logo\">The Blogs</Link>\n      <nav>\n        {username && (\n          <>\n            <Link to=\"/create\">New Blog</Link>\n            <a onClick={logout}>Logout ({username})</a>\n          </>\n        )}\n        {!username && (\n          <>\n            <Link to=\"/login\">Login</Link>\n            <Link to=\"/register\">Register</Link>\n          </>\n        )}\n      </nav>\n    </header>\n  );\n}\n"],"mappings":"AAAA,OAAQA,IAAI,KAAO,kBAAkB,CACrC,OAAQC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CACrD,OAAQC,WAAW,KAAO,eAAe,CAAC,6IAE1C,cAAe,SAASC,OAAM,EAAG,CAC/B,gBAA+BJ,UAAU,CAACG,WAAW,CAAC,CAA/CE,WAAW,aAAXA,WAAW,CAACC,QAAQ,aAARA,QAAQ,CAC3BL,SAAS,CAAC,UAAM,CACdM,KAAK,CAAC,6CAA6C,CAAE,CACnDC,WAAW,CAAE,SACf,CAAC,CAAC,CAACC,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAClBA,QAAQ,CAACC,IAAI,EAAE,CAACF,IAAI,CAAC,SAAAH,QAAQ,CAAI,CAC/BD,WAAW,CAACC,QAAQ,CAAC,CACvB,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,QAASM,OAAM,EAAG,CAChBL,KAAK,CAAC,4CAA4C,CAAE,CAClDC,WAAW,CAAE,SAAS,CACtBK,MAAM,CAAE,MACV,CAAC,CAAC,CACFR,WAAW,CAAC,IAAI,CAAC,CACnB,CAEA,GAAMS,SAAQ,CAAGR,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEQ,QAAQ,CAEnC,mBACE,uCACE,KAAC,IAAI,EAAC,EAAE,CAAC,GAAG,CAAC,SAAS,CAAC,MAAM,UAAC,WAAS,EAAO,cAC9C,uBACGA,QAAQ,eACP,wCACE,KAAC,IAAI,EAAC,EAAE,CAAC,SAAS,UAAC,UAAQ,EAAO,cAClC,WAAG,OAAO,CAAEF,MAAO,WAAC,UAAQ,CAACE,QAAQ,CAAC,GAAC,GAAI,GAE9C,CACA,CAACA,QAAQ,eACR,wCACE,KAAC,IAAI,EAAC,EAAE,CAAC,QAAQ,UAAC,OAAK,EAAO,cAC9B,KAAC,IAAI,EAAC,EAAE,CAAC,WAAW,UAAC,UAAQ,EAAO,GAEvC,GACG,GACC,CAEb"},"metadata":{},"sourceType":"module","externalDependencies":[]}