{"ast":null,"code":"import _slicedToArray from\"C:/Users/Abrar khan/Desktop/The Blogs/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{formatISO9075}from\"date-fns\";import{UserContext}from\"../UserContext\";import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function PostPage(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),postInfo=_useState2[0],setPostInfo=_useState2[1];var _useContext=useContext(UserContext),userInfo=_useContext.userInfo;var _useParams=useParams(),id=_useParams.id;useEffect(function(){fetch(\"https://blog-app-jrzx.onrender.com/post/\".concat(id)).then(function(response){response.json().then(function(postInfo){setPostInfo(postInfo);});});},[]);if(!postInfo)return'';return/*#__PURE__*/_jsxs(\"div\",{className:\"post-page\",children:[/*#__PURE__*/_jsx(\"h1\",{children:postInfo.title}),/*#__PURE__*/_jsx(\"time\",{children:formatISO9075(new Date(postInfo.createdAt))}),/*#__PURE__*/_jsxs(\"div\",{className:\"author\",children:[\"by @\",postInfo.author.username]}),userInfo.id===postInfo.author._id&&/*#__PURE__*/_jsx(\"div\",{className:\"edit-row\",children:/*#__PURE__*/_jsxs(Link,{className:\"edit-btn\",to:\"/edit/\".concat(postInfo._id),children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:1.5,stroke:\"currentColor\",className:\"w-6 h-6\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10\"})}),\"Edit this post\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"image\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://blog-app-jrzx.onrender.com/\".concat(postInfo.cover),alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"content\",dangerouslySetInnerHTML:{__html:postInfo.content}})]});}","map":{"version":3,"names":["useContext","useEffect","useState","useParams","formatISO9075","UserContext","Link","PostPage","postInfo","setPostInfo","userInfo","id","fetch","then","response","json","title","Date","createdAt","author","username","_id","cover","__html","content"],"sources":["C:/Users/Abrar khan/Desktop/The Blogs/client/src/pages/PostPage.js"],"sourcesContent":["import {useContext, useEffect, useState} from \"react\";\nimport {useParams} from \"react-router-dom\";\nimport {formatISO9075} from \"date-fns\";\nimport {UserContext} from \"../UserContext\";\nimport {Link} from 'react-router-dom';\n\nexport default function PostPage() {\n  const [postInfo,setPostInfo] = useState(null);\n  const {userInfo} = useContext(UserContext);\n  const {id} = useParams();\n  useEffect(() => {\n    fetch(`https://blog-app-jrzx.onrender.com/post/${id}`)\n      .then(response => {\n        response.json().then(postInfo => {\n          setPostInfo(postInfo);\n        });\n      });\n  }, []);\n\n  if (!postInfo) return '';\n\n  return (\n    <div className=\"post-page\">\n      <h1>{postInfo.title}</h1>\n      <time>{formatISO9075(new Date(postInfo.createdAt))}</time>\n      <div className=\"author\">by @{postInfo.author.username}</div>\n      {userInfo.id === postInfo.author._id && (\n        <div className=\"edit-row\">\n          <Link className=\"edit-btn\" to={`/edit/${postInfo._id}`}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-6 h-6\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10\" />\n            </svg>\n            Edit this post\n          </Link>\n        </div>\n      )}\n      <div className=\"image\">\n        <img src={`https://blog-app-jrzx.onrender.com/${postInfo.cover}`} alt=\"\"/>\n      </div>\n      <div className=\"content\" dangerouslySetInnerHTML={{__html:postInfo.content}} />\n    </div>\n  );\n}"],"mappings":"kIAAA,OAAQA,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CACrD,OAAQC,SAAS,KAAO,kBAAkB,CAC1C,OAAQC,aAAa,KAAO,UAAU,CACtC,OAAQC,WAAW,KAAO,gBAAgB,CAC1C,OAAQC,IAAI,KAAO,kBAAkB,CAAC,wFAEtC,cAAe,SAASC,SAAQ,EAAG,CACjC,cAA+BL,QAAQ,CAAC,IAAI,CAAC,wCAAtCM,QAAQ,eAACC,WAAW,eAC3B,gBAAmBT,UAAU,CAACK,WAAW,CAAC,CAAnCK,QAAQ,aAARA,QAAQ,CACf,eAAaP,SAAS,EAAE,CAAjBQ,EAAE,YAAFA,EAAE,CACTV,SAAS,CAAC,UAAM,CACdW,KAAK,mDAA4CD,EAAE,EAAG,CACnDE,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChBA,QAAQ,CAACC,IAAI,EAAE,CAACF,IAAI,CAAC,SAAAL,QAAQ,CAAI,CAC/BC,WAAW,CAACD,QAAQ,CAAC,CACvB,CAAC,CAAC,CACJ,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,GAAI,CAACA,QAAQ,CAAE,MAAO,EAAE,CAExB,mBACE,aAAK,SAAS,CAAC,WAAW,wBACxB,oBAAKA,QAAQ,CAACQ,KAAK,EAAM,cACzB,sBAAOZ,aAAa,CAAC,GAAIa,KAAI,CAACT,QAAQ,CAACU,SAAS,CAAC,CAAC,EAAQ,cAC1D,aAAK,SAAS,CAAC,QAAQ,WAAC,MAAI,CAACV,QAAQ,CAACW,MAAM,CAACC,QAAQ,GAAO,CAC3DV,QAAQ,CAACC,EAAE,GAAKH,QAAQ,CAACW,MAAM,CAACE,GAAG,eAClC,YAAK,SAAS,CAAC,UAAU,uBACvB,MAAC,IAAI,EAAC,SAAS,CAAC,UAAU,CAAC,EAAE,iBAAWb,QAAQ,CAACa,GAAG,CAAG,wBACrD,YAAK,KAAK,CAAC,4BAA4B,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,WAAW,CAAE,GAAI,CAAC,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,SAAS,uBACjI,aAAM,aAAa,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,uPAAuP,EAAG,EAC3S,iBAER,GAAO,EAEV,cACD,YAAK,SAAS,CAAC,OAAO,uBACpB,YAAK,GAAG,8CAAwCb,QAAQ,CAACc,KAAK,CAAG,CAAC,GAAG,CAAC,EAAE,EAAE,EACtE,cACN,YAAK,SAAS,CAAC,SAAS,CAAC,uBAAuB,CAAE,CAACC,MAAM,CAACf,QAAQ,CAACgB,OAAO,CAAE,EAAG,GAC3E,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}