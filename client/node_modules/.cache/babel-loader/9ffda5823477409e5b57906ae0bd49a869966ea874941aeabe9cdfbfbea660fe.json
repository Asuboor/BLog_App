{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Abrar khan/Desktop/The Blogs/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Abrar khan/Desktop/The Blogs/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Abrar khan/Desktop/The Blogs/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import ReactQuill from\"react-quill\";import'react-quill/dist/quill.snow.css';import{useState}from\"react\";import{Navigate}from\"react-router-dom\";import Editor from\"../Editor\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CreatePost(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),summary=_useState4[0],setSummary=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),content=_useState6[0],setContent=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),files=_useState8[0],setFiles=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),redirect=_useState10[0],setRedirect=_useState10[1];function createNewPost(_x){return _createNewPost.apply(this,arguments);}function _createNewPost(){_createNewPost=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(ev){var data,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:data=new FormData();data.set('title',title);data.set('summary',summary);data.set('content',content);data.set('file',files[0]);ev.preventDefault();_context.next=8;return fetch('https://blogs-app-ulti.onrender.com/post',{method:'POST',body:data,credentials:'include'});case 8:response=_context.sent;if(response.ok){setRedirect(true);}case 10:case\"end\":return _context.stop();}},_callee);}));return _createNewPost.apply(this,arguments);}if(redirect){return/*#__PURE__*/_jsx(Navigate,{to:'/'});}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:createNewPost,children:[/*#__PURE__*/_jsx(\"input\",{type:\"title\",placeholder:'Title',value:title,onChange:function onChange(ev){return setTitle(ev.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"summary\",placeholder:'Summary',value:summary,onChange:function onChange(ev){return setSummary(ev.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:function onChange(ev){return setFiles(ev.target.files);}}),/*#__PURE__*/_jsx(Editor,{value:content,onChange:setContent}),/*#__PURE__*/_jsx(\"button\",{style:{marginTop:'5px'},children:\"Create post\"})]});}","map":{"version":3,"names":["ReactQuill","useState","Navigate","Editor","CreatePost","title","setTitle","summary","setSummary","content","setContent","files","setFiles","redirect","setRedirect","createNewPost","ev","data","FormData","set","preventDefault","fetch","method","body","credentials","response","ok","target","value","marginTop"],"sources":["C:/Users/Abrar khan/Desktop/The Blogs/client/src/pages/CreatePost.js"],"sourcesContent":["import ReactQuill from \"react-quill\";\nimport 'react-quill/dist/quill.snow.css';\nimport {useState} from \"react\";\nimport {Navigate} from \"react-router-dom\";\nimport Editor from \"../Editor\";\n\nexport default function CreatePost() {\n  const [title,setTitle] = useState('');\n  const [summary,setSummary] = useState('');\n  const [content,setContent] = useState('');\n  const [files, setFiles] = useState('');\n  const [redirect, setRedirect] = useState(false);\n  async function createNewPost(ev) {\n    const data = new FormData();\n    data.set('title', title);\n    data.set('summary', summary);\n    data.set('content', content);\n    data.set('file', files[0]);\n    ev.preventDefault();\n    const response = await fetch('https://blogs-app-ulti.onrender.com/post', {\n      method: 'POST',\n      body: data,\n      credentials: 'include',\n    });\n    if (response.ok) {\n      setRedirect(true);\n    }\n  }\n\n  if (redirect) {\n    return <Navigate to={'/'} />\n  }\n  return (\n    <form onSubmit={createNewPost}>\n      <input type=\"title\"\n             placeholder={'Title'}\n             value={title}\n             onChange={ev => setTitle(ev.target.value)} />\n      <input type=\"summary\"\n             placeholder={'Summary'}\n             value={summary}\n             onChange={ev => setSummary(ev.target.value)} />\n      <input type=\"file\"\n             onChange={ev => setFiles(ev.target.files)} />\n      <Editor value={content} onChange={setContent} />\n      <button style={{marginTop:'5px'}}>Create post</button>\n    </form>\n  );\n}"],"mappings":"sZAAA,MAAOA,WAAU,KAAM,aAAa,CACpC,MAAO,iCAAiC,CACxC,OAAQC,QAAQ,KAAO,OAAO,CAC9B,OAAQC,QAAQ,KAAO,kBAAkB,CACzC,MAAOC,OAAM,KAAM,WAAW,CAAC,wFAE/B,cAAe,SAASC,WAAU,EAAG,CACnC,cAAyBH,QAAQ,CAAC,EAAE,CAAC,wCAA9BI,KAAK,eAACC,QAAQ,eACrB,eAA6BL,QAAQ,CAAC,EAAE,CAAC,yCAAlCM,OAAO,eAACC,UAAU,eACzB,eAA6BP,QAAQ,CAAC,EAAE,CAAC,yCAAlCQ,OAAO,eAACC,UAAU,eACzB,eAA0BT,QAAQ,CAAC,EAAE,CAAC,yCAA/BU,KAAK,eAAEC,QAAQ,eACtB,eAAgCX,QAAQ,CAAC,KAAK,CAAC,0CAAxCY,QAAQ,gBAAEC,WAAW,gBAAoB,QACjCC,cAAa,qJAA5B,iBAA6BC,EAAE,qIACvBC,IAAI,CAAG,GAAIC,SAAQ,EAAE,CAC3BD,IAAI,CAACE,GAAG,CAAC,OAAO,CAAEd,KAAK,CAAC,CACxBY,IAAI,CAACE,GAAG,CAAC,SAAS,CAAEZ,OAAO,CAAC,CAC5BU,IAAI,CAACE,GAAG,CAAC,SAAS,CAAEV,OAAO,CAAC,CAC5BQ,IAAI,CAACE,GAAG,CAAC,MAAM,CAAER,KAAK,CAAC,CAAC,CAAC,CAAC,CAC1BK,EAAE,CAACI,cAAc,EAAE,CAAC,sBACGC,MAAK,CAAC,0CAA0C,CAAE,CACvEC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEN,IAAI,CACVO,WAAW,CAAE,SACf,CAAC,CAAC,QAJIC,QAAQ,eAKd,GAAIA,QAAQ,CAACC,EAAE,CAAE,CACfZ,WAAW,CAAC,IAAI,CAAC,CACnB,CAAC,sDACF,gDAED,GAAID,QAAQ,CAAE,CACZ,mBAAO,KAAC,QAAQ,EAAC,EAAE,CAAE,GAAI,EAAG,CAC9B,CACA,mBACE,cAAM,QAAQ,CAAEE,aAAc,wBAC5B,cAAO,IAAI,CAAC,OAAO,CACZ,WAAW,CAAE,OAAQ,CACrB,KAAK,CAAEV,KAAM,CACb,QAAQ,CAAE,kBAAAW,EAAE,QAAIV,SAAQ,CAACU,EAAE,CAACW,MAAM,CAACC,KAAK,CAAC,EAAC,EAAG,cACpD,cAAO,IAAI,CAAC,SAAS,CACd,WAAW,CAAE,SAAU,CACvB,KAAK,CAAErB,OAAQ,CACf,QAAQ,CAAE,kBAAAS,EAAE,QAAIR,WAAU,CAACQ,EAAE,CAACW,MAAM,CAACC,KAAK,CAAC,EAAC,EAAG,cACtD,cAAO,IAAI,CAAC,MAAM,CACX,QAAQ,CAAE,kBAAAZ,EAAE,QAAIJ,SAAQ,CAACI,EAAE,CAACW,MAAM,CAAChB,KAAK,CAAC,EAAC,EAAG,cACpD,KAAC,MAAM,EAAC,KAAK,CAAEF,OAAQ,CAAC,QAAQ,CAAEC,UAAW,EAAG,cAChD,eAAQ,KAAK,CAAE,CAACmB,SAAS,CAAC,KAAK,CAAE,UAAC,aAAW,EAAS,GACjD,CAEX"},"metadata":{},"sourceType":"module","externalDependencies":[]}